# Second Homework - Attach Disk With Data And Edit "postgresql.conf" File

## Create External Disk
__Q1__: "Попытайтесь запустить кластер и напишите получилось или нет и почему"

__A1__: Не получилось из такого, что директория где хранятся данные не существует, о чем свидетельствует ошибка "Error: /var/lib/postgresql/13/main is not accessible or does not exist".

__Q2__: "Найти конфигурационный параметр в файлах раположенных в `/etc/postgresql/13/main` который надо поменять и поменяйте его напишите что и почему поменяли"

__A2__: Поменял параметр `data_directory` в файле настроек `/etc/postgresql/13/main/postgresql.conf`, cо значения `'/var/lib/postgresql/13/main'` на `'/mnt/data/13/main'`, так как именно этот параметр _"Задаёт каталог, в котором хранятся данные. Этот параметр можно задать только при запуске сервера."_.

__Q3__: "Напишите получилось или нет и почему"

__A3__: После изменения настройки в `/etc/postgresql/13/main/postgresql.conf` кластер запустился.

## Задание Со Звездочкой *
__Q1__: "Расскажите как вы это сделали и что в итоге получилось?"

__A1__: 
1. Создал вторую VM в той же `Zone` 
2. Удалил диск у предидущей VM с названием `postgres`
3. Присоединил новый external disk к только что созданной VM - `postgres-second`
4. Запустил `postgres-second` проверил, что диск виден `sudo lsblk --fs`
5. Создал директорию и примонтировал диск `sudo mkdir -p /mnt/data && sudo mount -o defaults /dev/sdb1 /mnt/data`
6. Установил postgres
7. Поменял настройку `data_directory` в `postgresql.conf` аналогичным образом, как это было сделано выше
8. Запустил кластер и проверил доступность таблиц